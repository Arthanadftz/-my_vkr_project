{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block title %}Создание нового канала{% endblock %}

{% block content %}
  <div class="content-section" style="height: 100%;">
    <div class="media-body">
      <h2 class="account-heading">Создание нового канала</h2>
      <br>
      <input id="room-name-input" type="text" size="100" placeholder="Введите название канала, в названии не должны быть символы (@!#$%^_())"/>
      <br>
      <input id="room-name-submit" class="btn btn-success mt-2" type="button" value="Создать"/>

      <script>
          document.querySelector('#room-name-input').focus();
          document.querySelector('#room-name-input').onkeyup = function(e) {
              if (e.keyCode === 13) {  // enter, return
                  document.querySelector('#room-name-submit').click();
              }
          };

          document.querySelector('#room-name-submit').onclick = function(e) {
              var roomName = document.querySelector('#room-name-input').value;
              window.location.pathname = '/chat/' + roomName + '/';
          };
      </script>
    </div>
{% endblock %}
